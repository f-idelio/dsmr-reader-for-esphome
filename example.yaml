esphome:
  name: smartmeter
  platform: ESP8266
  board: esp01_1m

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

api:
  password: !secret api_password

ota:
  password: !secret ota_password

logger:
  level: INFO
  
# GPIO2 is not used, but I assign it here as the TX pin, so the
# actual TX pin of the ESP-01 can still be used for serial logging.
uart:
  rx_pin: GPIO3
  tx_pin: GPIO2
  baud_rate: 115200

dsmr:

# The following are the sensors that I use.
# Look at the ESPHome documentation for the dsmr component for more options. 

sensor:
  - platform: dsmr
    energy_delivered_tariff1:
      name: DSMR Energy Consumed Tariff 1
    energy_delivered_tariff2:
      name: DSMR Energy Consumed Tariff 2
    power_delivered:
      name: DSMR Power Consumed
    electricity_failures:
      name: DSMR Electricity Failures
    electricity_long_failures:
      name: DSMR Electricity Long Failures
    current_l1:
      name: DSMR Current Phase 1
    voltage_l1:
      name: DSMR Voltage Phase 1
    gas_delivered:
      name: DSMR Gas Consumed

text_sensor:
  - platform: dsmr
    identification:
      name: "DSMR Identification"
    p1_version:
      name: "DSMR Version"
